---
inherit: ../wip-base-manifest.yml
applications:
- name: csv-parser-service-<space>
  host: csv-parser-service-<space>
  memory: 4GB
  instances: 2
  services:
    - rabbitmq
    - postgres
    - logstash-3
    - stuf
  env:
    WORK_ORDER_SERVICE_URL: https://workorderservice-<space>.run.asv-pr.ice.predix.io/v1/
    CLIENT_ID: <SEC_BMS_CSV_PARSER_CLIENT_ID>
    CLIENT_SECRET: <SEC_BMS_CSV_PARSER_CLIENT_SECRET>
    filestoreConsumeScope: filestore.consume
    workstoreIngestScope: workorder.ingest
    NEW_RELIC_APP_NAME: bms-csv-parser-service-<space>
    rabbitmq_service_name: rabbitmq
    MEMORY_LIMIT: 2G
    THREADPOOL_CORE_SIZE: 100
    THREADPOOL_MAX_SIZE: 150
    WORKORDER_BATCH: 100 
    THREADPOOL_QUEUE_CAPACITY: 50000
